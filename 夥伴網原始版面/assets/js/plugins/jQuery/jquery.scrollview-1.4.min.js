$.fn.scrollView=function(s){var a=$(this);if("destroy"===s)a.removeAttr("data-scroll-view");else{a.attr("data-scroll-view","init");var e={start:"default",end:null,threshold:-200,addClass:"scroll-view",repeat:!1,onChange:function(s){return!1},onAddClass:function(s){return!1},onRemoveClass:function(s){return!1}},o=$.extend({},e,s);$(window).on("scroll",function(){var s=$(window).scrollTop();a.each(function(e,n){if("init"===a.attr("data-scroll-view")){var l=$(n);if(0==l.hasClass("scroll-view")){if("default"===o.start)var t=l.offset().top-$(window).height();else if("string"==typeof o.start)var t=$(o.start).offset().top-$(window).height();else var t=o.start;if(1==o.repeat)if(null!=o.end){if("string"==typeof o.end)var d=$(o.end).offset().top+$(o.end).outerHeight()-$(window).height();else var d=o.end;s+o.threshold>=t&&s+o.threshold<=d&&("function"==typeof o.onChange&&"function"==typeof o.onAddClass?(l.addClass(o.addClass),o.onAddClass.call(this,l),o.onChange.call(this,l)):"function"==typeof o.onChange?(l.addClass(o.addClass),o.onChange.call(this,l)):"function"==typeof o.onAddClass?(l.addClass(o.addClass),o.onAddClass.call(this,l)):l.addClass(o.addClass))}else s+o.threshold>=t&&("function"==typeof o.onChange&&"function"==typeof o.onAddClass?(l.addClass(o.addClass),o.onAddClass.call(this,l),o.onChange.call(this,l)):"function"==typeof o.onChange?(l.addClass(o.addClass),o.onChange.call(this,l)):"function"==typeof o.onAddClass?(l.addClass(o.addClass),o.onAddClass.call(this,l)):l.addClass(o.addClass));else s+o.threshold>=t&&("function"==typeof o.onChange&&"function"==typeof o.onAddClass?(l.addClass(o.addClass),o.onAddClass.call(this,l),o.onChange.call(this,l)):"function"==typeof o.onChange?(l.addClass(o.addClass),o.onChange.call(this,l)):"function"==typeof o.onAddClass?(l.addClass(o.addClass),o.onAddClass.call(this,l)):l.addClass(o.addClass))}else if(1==o.repeat){if("default"===o.start)var t=l.offset().top-$(window).height();else if("string"==typeof o.start)var t=$(o.start).offset().top-$(window).height();else var t=o.start;if(null!=o.end){if("string"==typeof o.end)var d=$(o.end).offset().top+$(o.end).outerHeight()-$(window).height();else var d=o.end;(s+o.threshold<t||s+o.threshold>d)&&("function"==typeof o.onChange&&"function"==typeof o.onRemoveClass?(l.removeClass(o.addClass),o.onRemoveClass.call(this,l),o.onChange.call(this,l)):"function"==typeof o.onChange?(l.removeClass(o.addClass),o.onChange.call(this,l)):"function"==typeof o.onRemoveClass?(l.removeClass(o.addClass),o.onRemoveClass.call(this,l)):l.removeClass(o.addClass))}else s+o.threshold<t&&("function"==typeof o.onChange&&"function"==typeof o.onRemoveClass?(l.removeClass(o.addClass),o.onRemoveClass.call(this,l),o.onChange.call(this,l)):"function"==typeof o.onChange?(l.removeClass(o.addClass),o.onChange.call(this,l)):"function"==typeof o.onRemoveClass?(l.removeClass(o.addClass),o.onRemoveClass.call(this,l)):l.removeClass(o.addClass))}}})}).trigger("scroll"),$(window).on("resize",function(){$(this).trigger("scroll")})}};